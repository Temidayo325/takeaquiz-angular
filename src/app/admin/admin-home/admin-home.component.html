<!-- <section class="flex justify-around px-10 items-center bg-blue-200 rounded-[30px] h-[200px] w-full mt-[-50px]"> -->
      <!-- <img src="./../../assets/images/admin/businessman-explaining-the-strategy.svg" alt="" class="mt-[-40px] w-3/6 h-48"> -->
<!-- </section> -->
<section class="flex justify-between gap-5 box-border relative">
     <div class="md:w-9/12 w-full">
          <h1 class="font-bold text-3xl">{{user.nickname}}'s Dashboard</h1>
          <!-- <p class="text-black text-lg mt-10" *ngIf="roles.admin">Current Month statistics </p> -->
          <p-skeleton width="100%" height="150px" *ngIf="roles.admin && monthlyStat.length < 1" styleClass="mt-10"></p-skeleton>
          <div *ngIf="roles.admin" class="text-black text-lg md:mt-10 mt-0">
               <p-carousel [value]="monthlyStat" [numVisible]="4" [numScroll]="1" [circular]="true" [responsiveOptions]="responsiveOptions">
                    <ng-template pTemplate="header">
                       <p class="font-medium text-lg ">Statistics for {{ current_month }}</p>
                   </ng-template>
                   <ng-template let-product pTemplate="item">
                       <div class="border border-1 surface-border border-gray-200 shadow-md hover:shadow-xl border-round m-2 text-center py-5 px-3 text-[#000814]" style="background: {{product.color}}">
                           <h2 class="text-6xl mt-2">{{ product.value }}</h2>
                           <p>{{ product.stat }}</p>
                       </div>
                   </ng-template>
               </p-carousel>
          </div>
          <p-skeleton width="100%" height="150px" *ngIf="roles.admin && allTimeStat.length < 1" styleClass="mt-10"></p-skeleton>
          <div *ngIf="roles.admin" class="text-black text-lg mt-10">
               <p-carousel [value]="allTimeStat" [numVisible]="4" [numScroll]="1" [circular]="true" [responsiveOptions]="responsiveOptions">
                    <ng-template pTemplate="header">
                       <p class="font-medium text-lg ">All time statistics</p>
                   </ng-template>
                   <ng-template let-product pTemplate="item">
                       <div class="border border-1 surface-border border-gray-200 shadow-md hover:shadow-xl border-round m-2 text-center py-5 px-3 text-white" style="background: {{product.color}}">
                           <h2 class="text-6xl mt-2">{{ product.value }}</h2>
                           <p>{{ product.stat }}</p>
                       </div>
                   </ng-template>
               </p-carousel>
          </div>

          <div *ngIf="roles.author" class="overflow-x-scroll my-10 md:overflow-x-hidden md:hidden">
               <p class="text-black text-lg mt-10">Total Quantitative Output stats </p>
               <div  class="flex justify-start gap-3">
                    <div class="h-40 w-1/3 shrink-0 grow rounded-lg py-2 px-2 text-white md:w-64 md:flex md:items-center md:gap-8 md:justify-start md:h-24" style="background: #F39237">
                         <svg fill="currentColor" class="w-10 h-16 " viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625z"></path><path d="M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"></path></svg>
                         <div class="md:mt-[-15px]">
                              <h1 class="font-bold text-4xl mt-2 ">{{ editorStats.total_topic_count }}</h1>
                              <p class="text-md font-bold">Topics created in total</p>
                         </div>
                    </div>

                    <div class="h-40 w-1/3 shrink-0 grow rounded-lg py-2 px-2 text-white md:w-64 md:flex md:items-center md:gap-10 md:justify-start md:h-24" style="background: #0E79B2">
                         <svg fill="currentColor" class="w-12 h-16 " viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"></path></svg>
                         <div class="md:mt-[-15px]">
                              <h1 class="font-bold text-4xl mt-2 ">{{ editorStats.total_questions_count }}</h1>
                              <p class="text-md font-bold">Questions created in total</p>
                         </div>
                    </div>
               </div>

               <p class="text-black text-lg mt-10" *ngIf="roles.editor || roles.author">Quantitative Output stats for {{ current_month }} </p>
               <div  class="flex justify-start gap-3">
                    <div class="h-40 w-1/3 shrink-0 grow rounded-lg py-2 px-2 text-white md:w-64 md:flex md:items-center md:gap-8 md:justify-start md:h-24" style="background: #F39237">
                         <svg fill="currentColor" class="w-10 h-16 " viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625z"></path><path d="M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"></path></svg>
                         <div class="md:mt-[-15px]">
                              <h1 class="font-bold text-4xl mt-2 ">{{ editorStats.monthly_topic_count }}</h1>
                              <p class="text-md font-bold">Topics created in {{ current_month }}</p>
                         </div>
                    </div>

                    <div class="h-40 w-1/3 shrink-0 grow rounded-lg py-2 px-2 text-white md:w-64 md:flex md:items-center md:gap-10 md:justify-start md:h-24" style="background: #0E79B2">
                         <svg fill="currentColor" class="w-12 h-16 " viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"></path></svg>
                         <div class="md:mt-[-15px]">
                              <h1 class="font-bold text-4xl mt-2 ">{{ editorStats.monthly_questions_count }}</h1>
                              <p class="text-md font-bold">Questions created in {{ current_month }}</p>
                         </div>
                    </div>
               </div>
          </div>

          <p-skeleton width="100%" height="150px" *ngIf="(roles.author || roles.editor) && topics.length < 1" styleClass="mt-10"></p-skeleton>
          <div class="mt-10 w-full relative" *ngIf="roles.author || roles.editor">
               <div class="sticky top-0 my-10 flex justify-between items-center">
                    <h2 class="text-lg text-dark font-medium mb-3">Available topics</h2>
                    <div>
                         <button *ngIf="topicsNavigation.prev != null" (click)="paginateTopics(topicsNavigation.prev)" class="px-4 py-2 border-2 border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 bg-gray-100"><span>&#171;</span>Prev page</button>
                         <button *ngIf="topicsNavigation.next != null" (click)="paginateTopics(topicsNavigation.next)" class="px-4 py-2 border-2 border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 bg-gray-100">Next page <span>&#187;</span></button>
                    </div>
               </div>
               <p *ngIf="topics.length < 1; else elseBlock" class="text-center font-medium text-xl overflow-hidden">There are no topics Available Yet</p>
               <ng-template #elseBlock class="">
                    <div class="overflow-x-auto relative">
                         <table class="w-full text-sm text-left text-gray-800 dark:text-gray-400">
                           <thead class="text-xs text-gray-700 uppercase bg-gray-300 dark:bg-gray-700 dark:text-gray-400">
                             <tr>
                                 <th class="py-3 px-4">Title </th>
                                 <th >Department </th>
                                 <th >Faculty </th>
                                 <th >Actions</th>
                             </tr>
                           </thead>
                           <tbody>
                                <tr *ngFor="let topic of topics; let i = index; trackBy: trackByFn" class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                                    <td class="py-4 px-3">{{topic.title}}</td>
                                    <td>{{topic.department}}</td>
                                    <td>{{topic.faculty}}</td>
                                    <td>
                                         <div class="flex justify-between px-2 ">
                                              <i class="pi pi-cog mr-6 cursor-pointer" style="font-size: 1.5rem" routerLink="/admin/dashboard/topic/{{topic.id}}"></i>
                                              <i class="pi pi-delete-left cursor-pointer" (click)="deleteTopic(topic.id, i)" style="font-size: 1.5rem"></i>
                                         </div>
                                    </td>
                                </tr>
                           </tbody>
                         </table>
                    </div>

               </ng-template>

               <div class="sticky top-0 my-12 flex justify-between items-center">
                    <h2 class="text-lg text-dark font-medium mb-3">My topics</h2>
                    <div>
                         <button *ngIf="myTopicsNavigation.prev != null" (click)="paginateTopics(myTopicsNavigation.prev)" class="px-4 py-2 border-2 border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 bg-gray-100"><span>&#171;</span>Prev page</button>
                         <button *ngIf="myTopicsNavigation.next != null" (click)="paginateTopics(myTopicsNavigation.next)" class="px-4 py-2 border-2 border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 bg-gray-100">Next page <span>&#187;</span></button>
                    </div>
               </div>
               <p *ngIf="myTopics.length < 1; else showMyTopics" class="text-center font-medium text-xl ">You have not worked on any topics yet</p>
               <ng-template #showMyTopics >
                    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                      <thead class="text-xs text-gray-700 uppercase bg-gray-300 dark:bg-gray-700 dark:text-gray-400">
                        <tr>
                            <th class="py-3 px-4">Title </th>
                            <th >Department </th>
                            <th >Faculty </th>
                            <th >Actions</th>
                        </tr>
                      </thead>
                      <tbody>
                           <tr *ngFor="let topic of myTopics; let i = index; trackBy: trackByFn" class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                               <td class="py-4 px-3">{{topic.title}}</td>
                               <td>{{topic.department}}</td>
                               <td>{{topic.faculty}}</td>
                               <td>
                                    <div class="flex justify-between px-2 ">
                                         <i class="pi pi-cog mr-6 cursor-pointer" style="font-size: 1.5rem" routerLink="/admin/dashboard/topic/{{topic.id}}"></i>
                                         <i class="pi pi-delete-left cursor-pointer" (click)="deleteTopic(topic.id, i)" style="font-size: 1.5rem"></i>
                                    </div>
                               </td>
                           </tr>
                      </tbody>
                    </table>
               </ng-template>
          </div>
     </div>

     <div class="w-full hidden md:block box-border overflow-x-hidden sticky top-0">
          <div class="bg-white/80 py-2 px-3 mx-auto">
               <h2 class="text-left font-medium text-lg">Profile</h2>
               <div class="py-2 px-3 text-center">
                    <img class="w-28 h-28 p-1 rounded-full ring-2 ring-gray-300 dark:ring-gray-500 mx-auto bg-gray-300" src="https://picsum.photos/300?random={{user.nickname}}" alt="User's Placeholder Image">
                    <h2 >{{ user.name }} {{ user.nickname }}</h2>
                    <p>{{ user.department }}, {{ user.faculty }}</p>
                    <p>{{ user.institution }}</p>
               </div>
          </div>
          <div class="mt-10" *ngIf="roles.editor || roles.author">
               <div  class="flex justify-start gap-0 font-bold text-center">
                    <div class="h-40 w-1/2 py-2 px-2 " style="background: hsl(46, 100%, 80%)">
                         <h1 class="text-6xl mt-2 ">{{ editorStats.total_topic_count }}</h1>
                         <p class="text-sm mt-5 font-medium">Total topic produced</p>
                    </div>

                    <div class="h-40 w-1/2 py-2 px-2" style="background: hsl(211, 100%, 90%)">
                         <h1 class=" text-6xl mt-2 ">{{ editorStats.total_questions_count }}</h1>
                         <p class="text-sm mt-5 font-medium">Total questions created</p>
                    </div>
               </div>

               <!-- <p class="text-black text-lg mt-10" *ngIf="">Quantitative Output stats for {{ current_month }} </p> -->
               <div  class="flex justify-start gap-0 font-bold text-center">
                    <div class="h-40 w-1/2 py-2 px-2 " style="background: 	hsl(29, 89%, 80%)">
                         <h1 class="text-6xl mt-2 ">{{ editorStats.monthly_topic_count }}</h1>
                         <p class="text-sm mt-5 font-medium">Topics created in {{ current_month }}</p>
                    </div>

                    <div class="h-40 w-1/2 py-2 px-2 " style="background: hsl(201, 85%, 80%)">
                         <h1 class="text-6xl mt-2 ">{{ editorStats.monthly_questions_count }}</h1>
                         <p class="text-sm mt-5 font-medium">Questions created in {{ current_month }}</p>
                    </div>
               </div>
          </div>
     </div>
</section>
